{"version":3,"file":"DevMenuBottomSheet.js","sourceRoot":"","sources":["../../../src/app/views/DevMenuBottomSheet.tsx"],"names":[],"mappings":"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","sourcesContent":["import { createStackNavigator } from '@react-navigation/stack';\nimport * as React from 'react';\nimport { Dimensions, Platform, View, LayoutChangeEvent, StyleSheet } from 'react-native';\nimport {\n  PanGestureHandler,\n  TapGestureHandler,\n  State as GestureState,\n} from 'react-native-gesture-handler';\nimport Animated from 'react-native-reanimated';\n\nimport DevMenuScreen from './DevMenuScreen';\n\nconst Stack = createStackNavigator();\n\ntype Props = {\n  /**\n   * Points for snapping of bottom sheet component. They define distance from bottom of the screen.\n   * Might be number or percent (as string e.g. '20%') for points or percents of screen height from bottom.\n   */\n  snapPoints: (number | string)[];\n\n  /**\n   * Determines initial snap point of bottom sheet. Defaults to 0.\n   */\n  initialSnap: number;\n\n  /**\n   * When true, clamp bottom position to first snapPoint.\n   */\n  enabledBottomClamp?: boolean;\n\n  /**\n   * When true, sheet will grows up from bottom to initial snapPoint.\n   */\n  enabledBottomInitialAnimation?: boolean;\n\n  /**\n   * If false blocks snapping using snapTo method. Defaults to true.\n   */\n  enabledManualSnapping?: boolean;\n\n  /**\n   * Reanimated node which holds position of bottom sheet, where 1 it the highest snap point and 0 is the lowest.\n   */\n  callbackNode?: Animated.Value<number>;\n\n  /**\n   * Reanimated node which holds position of bottom sheet;s content (in dp).\n   */\n  contentPosition?: Animated.Value<number>;\n\n  /**\n   * Defines how violently sheet has to stopped while overdragging. 0 means no overdrag. Defaults to 0.\n   */\n  overdragResistanceFactor: number;\n\n  /**\n   * Overrides config for spring animation\n   */\n  springConfig: {\n    damping?: number;\n    mass?: number;\n    stiffness?: number;\n    restSpeedThreshold?: number;\n    restDisplacementThreshold?: number;\n    toss?: number;\n  };\n\n  /**\n   * Refs for gesture handlers used for building bottomsheet\n   */\n  innerGestureHandlerRefs: [React.RefObject<PanGestureHandler>, React.RefObject<TapGestureHandler>];\n};\n\ntype State = {\n  snapPoints: Animated.Value<number>[];\n  init: any;\n  initSnap: number;\n  propsToNewIndices: { [key: string]: number };\n  heightOfContent: Animated.Value<number>;\n};\n\nconst { height: screenHeight } = Dimensions.get('window');\n\nconst P = <T extends any>(android: T, ios: T): T => (Platform.OS === 'ios' ? ios : android);\n\nconst magic = {\n  damping: 50,\n  mass: 0.3,\n  stiffness: 121.6,\n  overshootClamping: true,\n  restSpeedThreshold: 0.3,\n  restDisplacementThreshold: 0.3,\n  deceleration: 0.999,\n  bouncyFactor: 1,\n  velocityFactor: P(1, 0.8),\n  toss: 0.4,\n  coefForTranslatingVelocities: 5,\n};\n\nconst {\n  damping,\n  mass,\n  stiffness,\n  overshootClamping,\n  restSpeedThreshold,\n  restDisplacementThreshold,\n  deceleration,\n  velocityFactor,\n  toss,\n} = magic;\n\nconst {\n  set,\n  cond,\n  onChange,\n  block,\n  eq,\n  greaterOrEq,\n  sqrt,\n  not,\n  defined,\n  max,\n  add,\n  and,\n  Value,\n  spring,\n  or,\n  divide,\n  greaterThan,\n  sub,\n  // event,\n  diff,\n  multiply,\n  clockRunning,\n  startClock,\n  stopClock,\n  decay,\n  Clock,\n  lessThan,\n  call,\n  lessOrEq,\n  neq,\n} = Animated;\n\nfunction runDecay(\n  clock: Animated.Clock,\n  value: Animated.Node<number>,\n  velocity: Animated.Node<number>,\n  wasStartedFromBegin: Animated.Value<number>\n) {\n  const state = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n  };\n\n  const config = { deceleration };\n\n  return [\n    cond(clockRunning(clock), 0, [\n      cond(wasStartedFromBegin, 0, [\n        set(wasStartedFromBegin, 1),\n        set(state.finished, 0),\n        set(state.velocity, multiply(velocity, velocityFactor)),\n        set(state.position, value),\n        set(state.time, 0),\n        startClock(clock),\n      ]),\n    ]),\n    cond(clockRunning(clock), decay(clock, state, config)),\n    cond(state.finished, stopClock(clock)),\n    state.position,\n  ];\n}\n\nfunction withPreservingAdditiveOffset(drag: Animated.Node<number>, state: Animated.Node<number>) {\n  const prev = new Value(0);\n  const valWithPreservedOffset = new Value(0);\n  return block([\n    cond(\n      eq(state, GestureState.BEGAN),\n      [set(prev, 0)],\n      [set(valWithPreservedOffset, add(valWithPreservedOffset, sub(drag, prev))), set(prev, drag)]\n    ),\n    valWithPreservedOffset,\n  ]);\n}\n\nfunction withDecaying(\n  drag: Animated.Node<number>,\n  state: Animated.Node<number>,\n  decayClock: Animated.Clock,\n  velocity: Animated.Node<number>,\n  prevent: Animated.Value<number>\n) {\n  const valDecayed = new Value(0);\n  const offset = new Value(0);\n  // since there might be moar than one clock\n  const wasStartedFromBegin = new Value(0);\n\n  return block([\n    cond(\n      eq(state, GestureState.END),\n      [\n        cond(\n          prevent,\n          stopClock(decayClock),\n          set(valDecayed, runDecay(decayClock, add(drag, offset), velocity, wasStartedFromBegin))\n        ),\n      ],\n      [\n        stopClock(decayClock),\n        cond(eq(state, GestureState.BEGAN), set(prevent, 0)),\n        cond(\n          or(eq(state, GestureState.BEGAN), eq(state, GestureState.ACTIVE)),\n          set(wasStartedFromBegin, 0)\n        ),\n        cond(eq(state, GestureState.BEGAN), [set(offset, sub(valDecayed, drag))]),\n        set(valDecayed, add(drag, offset)),\n      ]\n    ),\n    valDecayed,\n  ]);\n}\n\nexport default class BottomSheetBehavior extends React.Component<Props, State> {\n  static defaultProps = {\n    overdragResistanceFactor: 0,\n    initialSnap: 0,\n    enabledBottomClamp: false,\n    enabledBottomInitialAnimation: false,\n    springConfig: {},\n    innerGestureHandlerRefs: [React.createRef(), React.createRef()],\n  };\n\n  private decayClock = new Clock();\n  private panState = new Value(0);\n  private tapState = new Value(0);\n  private velocity = new Value(0);\n  private masterVelocity = new Value(0);\n  private dragY = new Value(0);\n  private isManuallySetValue: Animated.Value<number> = new Value(0);\n  private manuallySetValue = new Value(0);\n  private masterClockForOverscroll = new Clock();\n  private preventDecaying: Animated.Value<number> = new Value(0);\n  private translateMaster: Animated.Node<number>;\n  private panRef: React.RefObject<PanGestureHandler>;\n  private tapRef: React.RefObject<TapGestureHandler>;\n  private snapPoint: Animated.Node<number>;\n  private clampingValue: Animated.Value<number> = new Value(0);\n  private screenIndex: Animated.Value<number> = new Value(0);\n  private screens = {};\n\n  constructor(props: Props) {\n    super(props);\n\n    this.panRef = props.innerGestureHandlerRefs[0];\n    this.tapRef = props.innerGestureHandlerRefs[1];\n    this.state = BottomSheetBehavior.getDerivedStateFromProps(props, undefined);\n\n    const { snapPoints, init } = this.state;\n    const middlesOfSnapPoints: [Animated.Node<number>, Animated.Node<number>][] = [];\n\n    for (let i = 1; i < snapPoints.length; i++) {\n      const tuple: [Animated.Node<number>, Animated.Node<number>] = [\n        add(snapPoints[i - 1], 10),\n        sub(snapPoints[i], 25),\n      ];\n      middlesOfSnapPoints.push(tuple);\n    }\n\n    const masterOffseted = (this.masterOffseted = new Value(init));\n    // destination point is a approximation of movement if finger released\n    const tossForMaster =\n      props.springConfig.hasOwnProperty('toss') && props.springConfig.toss != undefined\n        ? props.springConfig.toss\n        : toss;\n    const destinationPoint = add(masterOffseted, multiply(tossForMaster, this.masterVelocity));\n\n    const positive = greaterOrEq(multiply(tossForMaster, this.masterVelocity), 0);\n    // method for generating condition for finding the nearest snap point\n    const currentSnapPoint = (i = 0): Animated.Node<number> =>\n      i + 1 === snapPoints.length\n        ? snapPoints[i]\n        : cond(\n            positive,\n            cond(\n              greaterThan(destinationPoint, middlesOfSnapPoints[i][0]),\n              cond(\n                lessThan(destinationPoint, middlesOfSnapPoints[i][1]),\n                snapPoints[i + 1],\n                currentSnapPoint(i + 1)\n              ),\n              snapPoints[i]\n            ),\n            cond(\n              greaterThan(destinationPoint, middlesOfSnapPoints[i][1]),\n              cond(\n                lessThan(destinationPoint, middlesOfSnapPoints[i][0]),\n                snapPoints[i + 1],\n                currentSnapPoint(i + 1)\n              ),\n              snapPoints[i]\n            )\n          );\n    // current snap point desired\n    this.snapPoint = currentSnapPoint();\n\n    if (props.enabledBottomClamp) {\n      this.clampingValue.setValue(snapPoints[snapPoints.length - 1]);\n    }\n\n    const masterClock = new Clock();\n    const wasRun: Animated.Value<number> = new Value(0);\n\n    this.translateMaster = block([\n      cond(or(clockRunning(masterClock), not(wasRun), this.isManuallySetValue), [\n        cond(this.isManuallySetValue, stopClock(masterClock)),\n        set(\n          masterOffseted,\n          this.runSpring(\n            masterClock,\n            masterOffseted,\n            this.masterVelocity,\n            cond(this.isManuallySetValue, this.manuallySetValue, this.snapPoint),\n            wasRun,\n            this.isManuallySetValue,\n            this.masterVelocity\n          )\n        ),\n        set(this.isManuallySetValue, 0),\n      ]),\n      cond(\n        greaterThan(masterOffseted, snapPoints[0]),\n        cond(\n          and(props.enabledBottomClamp ? 1 : 0, greaterThan(masterOffseted, this.clampingValue)),\n          this.clampingValue,\n          masterOffseted\n        ),\n        max(\n          multiply(sub(snapPoints[0], sqrt(add(1, sub(snapPoints[0], masterOffseted)))), 1),\n          masterOffseted\n        )\n      ),\n    ]);\n\n    this.updateScreenValues();\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const { snapPoints } = this.state;\n    if (this.props.enabledBottomClamp && snapPoints !== prevState.snapPoints) {\n      this.clampingValue.setValue(snapPoints[snapPoints.length - 1]);\n    }\n    if (this.props.screens !== prevProps.screens) {\n      this.updateScreenValues();\n    }\n  }\n\n  private runSpring(\n    clock: Animated.Clock,\n    value: Animated.Value<number>,\n    velocity: Animated.Node<number>,\n    dest: Animated.Node<number>,\n    wasRun: Animated.Value<number>,\n    isManuallySet: Animated.Node<number> | number,\n    valueToBeZeroed: Animated.Value<number>\n  ) {\n    const state = {\n      finished: new Value(0),\n      velocity: new Value(0),\n      position: new Value(0),\n      time: new Value(0),\n    };\n\n    const config = {\n      damping,\n      mass,\n      stiffness,\n      overshootClamping,\n      restSpeedThreshold,\n      restDisplacementThreshold,\n      toValue: new Value(0),\n      ...this.props.springConfig,\n    };\n\n    return [\n      cond(clockRunning(clock), 0, [\n        set(state.finished, 0),\n        set(state.velocity, velocity),\n        set(state.position, value),\n        set(config.toValue, dest),\n        cond(and(wasRun, not(isManuallySet)), 0, startClock(clock)),\n        cond(defined(wasRun), set(wasRun, 1)),\n      ]),\n      spring(clock, state, config),\n      cond(state.finished, [stopClock(clock), set(valueToBeZeroed, 0)]),\n      state.position,\n    ];\n  }\n\n  getCurrentScreenValues() {\n    const { index, routes } = this.navigation.dangerouslyGetState();\n    const routeName = routes[index].name;\n    return this.screens[routeName];\n  }\n\n  getCurrentScreenIndex() {\n    const { index, routes } = this.navigation.dangerouslyGetState();\n    const routeName = routes[index].name;\n    return this.props.screens.findIndex(screen => screen.name === routeName);\n  }\n\n  updateScreenValues() {\n    this.props.screens.forEach((screen, index) => {\n      if (this.screens[screen.name]) {\n        return;\n      }\n\n      this.screens[screen.name] = {\n        index,\n        y: this.withEnhancedLimits(\n          withDecaying(\n            withPreservingAdditiveOffset(this.dragY, this.panState),\n            this.panState,\n            this.decayClock,\n            this.velocity,\n            this.preventDecaying\n          ),\n          this.masterOffseted,\n          index\n        ),\n      };\n    });\n  }\n\n  private handlePan = ({ nativeEvent: { translationY, state, velocityY } }) => {\n    if (state === GestureState.BEGAN) {\n      const screenIndex = this.getCurrentScreenIndex();\n      this.screenIndex.setValue(screenIndex);\n    }\n    this.dragY.setValue(translationY);\n    this.panState.setValue(state);\n    this.velocity.setValue(velocityY);\n  };\n\n  private handleTap = ({ nativeEvent: { state } }) => {\n    this.tapState.setValue(state);\n  };\n\n  private withEnhancedLimits(\n    val: Animated.Node<number>,\n    masterOffseted: Animated.Value<number>,\n    screenIndex: number\n  ) {\n    const wasRunMaster = new Value(0);\n    const min = multiply(-1, this.state.heightOfContent);\n    const prev = new Value(0);\n    const limitedVal = new Value(0);\n    const diffPres = new Value(0);\n    const flagWasRunSpring = new Value(0);\n    const justEndedIfEnded: Animated.Value<number> = new Value(1);\n    // const wasEndedMasterAfterInner: Animated.Value<number> = new Value(1);\n    const prevState = new Value(0);\n    const rev = new Value(0);\n    const clockForOverscroll = new Clock();\n\n    return block([\n      cond(\n        eq(this.screenIndex, screenIndex),\n\n        // Node evaluated on matching screen\n        [\n          set(rev, limitedVal),\n          cond(\n            or(\n              eq(this.panState, GestureState.BEGAN),\n              and(eq(this.panState, GestureState.ACTIVE), eq(prevState, GestureState.END))\n            ),\n\n            // Pan just began\n            [\n              set(prev, val),\n              set(flagWasRunSpring, 0),\n              stopClock(clockForOverscroll),\n              set(wasRunMaster, 0),\n            ],\n\n            // Pan is active\n            [\n              set(limitedVal, add(limitedVal, sub(val, prev))),\n              cond(lessThan(limitedVal, min), set(limitedVal, min)),\n            ]\n          ),\n          set(prevState, this.panState), // on iOS sometimes BEGAN event does not trigger\n          set(diffPres, sub(prev, val)),\n          set(prev, val),\n          cond(\n            or(greaterOrEq(limitedVal, 0), greaterThan(masterOffseted, 0)),\n            [\n              cond(\n                eq(this.panState, GestureState.ACTIVE),\n                set(masterOffseted, sub(masterOffseted, diffPres))\n              ),\n              cond(greaterThan(masterOffseted, 0), [set(limitedVal, 0)]),\n              cond(not(eq(this.panState, GestureState.END)), set(justEndedIfEnded, 1)),\n              // cond(eq(this.panState, GestureState.ACTIVE), set(wasEndedMasterAfterInner, 0)),\n              cond(\n                and(\n                  eq(this.panState, GestureState.END),\n                  // not(wasEndedMasterAfterInner),\n                  or(clockRunning(clockForOverscroll), not(wasRunMaster))\n                ),\n                [\n                  // cond(justEndedIfEnded, set(this.masterVelocity, diff(val))),\n                  set(this.masterVelocity, cond(justEndedIfEnded, diff(val), this.velocity)),\n                  set(\n                    masterOffseted,\n                    this.runSpring(\n                      clockForOverscroll,\n                      masterOffseted,\n                      diff(val),\n                      this.snapPoint,\n                      wasRunMaster,\n                      0,\n                      this.masterVelocity\n                    )\n                  ),\n                  set(this.masterVelocity, 0),\n                ]\n              ),\n              //   cond(eq(this.panState, State.END), set(wasEndedMasterAfterInner, 0)),\n              cond(eq(this.panState, GestureState.END), set(justEndedIfEnded, 0)),\n              set(this.preventDecaying, 1),\n              0,\n            ],\n            [set(this.preventDecaying, 0), limitedVal]\n          ),\n        ],\n\n        // Node evaluated on non-matching screens\n        [limitedVal]\n      ),\n    ]);\n  }\n\n  snapTo = (index: number) => {\n    this.isManuallySetValue.setValue(1);\n    this.manuallySetValue.setValue(\n      // @ts-ignore\n      this.state.snapPoints[this.state.propsToNewIndices[index]]\n    );\n  };\n\n  private height: Animated.Value<number> = new Value(0);\n\n  private handleFullHeader = ({\n    nativeEvent: {\n      layout: { height },\n    },\n  }: LayoutChangeEvent) => requestAnimationFrame(() => this.height.setValue(height));\n\n  private handleLayoutContent = ({\n    nativeEvent: {\n      layout: { height },\n    },\n  }: LayoutChangeEvent) => this.state.heightOfContent.setValue(height - this.state.initSnap);\n\n  static renumber = (str: string) => (Number(str.split('%')[0]) * screenHeight) / 100;\n\n  static getDerivedStateFromProps(props: Props, state: State | undefined): State {\n    let snapPoints;\n    const sortedPropsSnapPoints: Array<{\n      val: number;\n      ind: number;\n    }> = props.snapPoints\n      .map((s: number | string, i: number): {\n        val: number;\n        ind: number;\n      } => {\n        if (typeof s === 'number') {\n          return { val: s, ind: i };\n        } else if (typeof s === 'string') {\n          return { val: BottomSheetBehavior.renumber(s), ind: i };\n        }\n\n        throw new Error(`Invalid type for value ${s}: ${typeof s}`);\n      })\n      .sort(({ val: a }, { val: b }) => b - a);\n    if (state && state.snapPoints) {\n      state.snapPoints.forEach(\n        (s, i) =>\n          // @ts-ignore\n          s.__initialized && s.setValue(sortedPropsSnapPoints[0].val - sortedPropsSnapPoints[i].val)\n      );\n      snapPoints = state.snapPoints;\n    } else {\n      snapPoints = sortedPropsSnapPoints.map(p => new Value(sortedPropsSnapPoints[0].val - p.val));\n    }\n\n    const propsToNewIndices: { [key: string]: number } = {};\n    sortedPropsSnapPoints.forEach(({ ind }, i) => (propsToNewIndices[ind] = i));\n\n    const { initialSnap } = props;\n\n    let init =\n      sortedPropsSnapPoints[0].val - sortedPropsSnapPoints[propsToNewIndices[initialSnap]].val;\n\n    if (props.enabledBottomInitialAnimation) {\n      init =\n        sortedPropsSnapPoints[sortedPropsSnapPoints.length - 1 - propsToNewIndices[initialSnap]]\n          .val;\n    }\n\n    return {\n      init,\n      propsToNewIndices,\n      heightOfContent: (state && state.heightOfContent) || new Value(0),\n      initSnap: sortedPropsSnapPoints[0].val,\n      snapPoints,\n    };\n  }\n\n  renderScreen = screen => {\n    const ScreenComponent = screen.component;\n\n    return (\n      <Stack.Screen key={screen.name} name={screen.name} options={screen.options}>\n        {props => {\n          this.navigation = props.navigation;\n\n          return (\n            <Animated.View\n              style={{\n                transform: [{ translateY: this.screens[screen.name].y as any }],\n              }}\n              onLayout={this.handleLayoutContent}>\n              <DevMenuScreen ScreenComponent={ScreenComponent} {...props} />\n            </Animated.View>\n          );\n        }}\n      </Stack.Screen>\n    );\n  };\n\n  render() {\n    return (\n      <>\n        <Animated.View style={styles.heightRuler} onLayout={this.handleFullHeader} />\n        <Animated.View\n          style={[\n            styles.masterView,\n            {\n              opacity: cond(this.height, 1, 0),\n              transform: [\n                {\n                  translateY: this.translateMaster,\n                },\n                {\n                  translateY: sub(this.height, this.state.initSnap) as any,\n                },\n              ],\n            },\n          ]}>\n          <Animated.View style={[styles.container, { height: this.height }]}>\n            <PanGestureHandler\n              ref={this.panRef}\n              onGestureEvent={this.handlePan}\n              onHandlerStateChange={this.handlePan}>\n              <Animated.View>\n                <TapGestureHandler ref={this.tapRef} onHandlerStateChange={this.handleTap}>\n                  <View style={styles.fullscreenView}>\n                    <Stack.Navigator\n                      initialRouteName={this.props.screens[0].name}\n                      headerMode=\"float\">\n                      {this.props.screens.map(this.renderScreen)}\n                    </Stack.Navigator>\n                    {this.props.children}\n                  </View>\n                </TapGestureHandler>\n              </Animated.View>\n            </PanGestureHandler>\n            <Animated.Code\n              exec={onChange(\n                this.tapState,\n                cond(eq(this.tapState, GestureState.BEGAN), stopClock(this.decayClock))\n              )}\n            />\n            {this.props.callbackNode && (\n              <Animated.Code\n                exec={onChange(\n                  this.translateMaster,\n                  set(\n                    this.props.callbackNode,\n                    sub(\n                      1,\n                      divide(\n                        this.translateMaster,\n                        this.state.snapPoints[this.state.snapPoints.length - 1]\n                      )\n                    )\n                  )\n                )}\n              />\n            )}\n          </Animated.View>\n        </Animated.View>\n      </>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  heightRuler: {\n    height: '100%',\n    width: 0,\n    position: 'absolute',\n  },\n  masterView: {\n    width: '100%',\n    position: 'absolute',\n    zIndex: 100,\n  },\n  container: {\n    overflow: 'hidden',\n    borderTopLeftRadius: 10,\n    borderTopRightRadius: 10,\n  },\n  fullscreenView: {\n    width: '100%',\n    height: '100%',\n  },\n});\n"]}